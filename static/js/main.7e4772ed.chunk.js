(this["webpackJsonptest-ap"]=this["webpackJsonptest-ap"]||[]).push([[0],{55:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a,r,c,i,o,s,u,d,l,b,p,j,h,x,f=n(3),O=n.n(f),g=n(41),w=n.n(g),m=(n(55),n(9)),v=n(13),y=n(12),P=n(18),C=n(20),A=n(34),S="762385c71cb82e47ad4fdd68f06f6271",k=function(){var e=Object(P.a)(Object(v.a)().mark((function e(t){return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(A.a)("https://api.openweathermap.org/geo/1.0/direct?q=".concat(t,"&limit=5&appid=").concat(S)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(P.a)(Object(v.a)().mark((function e(t,n){var a,r;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.lat,r=t.lon,e.abrupt("return",Object(A.a)("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(a,"&lon=").concat(r,"&units=").concat(n,"&exclude=alerts,minutely,current&appid=").concat(S)).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(P.a)(Object(v.a)().mark((function e(t,n){var a,r;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:if(void 0!==(a=e.sent)&&0!==a.length){e.next=6;break}return alert("City data not found."),e.abrupt("return");case 6:return e.next=8,D(a[0],n);case 8:if(void 0!==(r=e.sent)){e.next=12;break}return alert("Weather data not found."),e.abrupt("return");case 12:return e.abrupt("return",{cityData:a,weatherData:r});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=n(4),F={cityData:null,weatherData:null,loading:!1,init:function(){},handleSubmit:function(){},handleCityChange:function(){},handleUnitChange:function(){}},L=Object(f.createContext)(F),T=function(e){var t=e.children,n=Object(f.useState)(""),a=Object(C.a)(n,2),r=a[0],c=a[1],i=Object(f.useState)(null),o=Object(C.a)(i,2),s=o[0],u=o[1],d=Object(f.useState)(null),l=Object(C.a)(d,2),b=l[0],p=l[1],j=Object(f.useState)({type:"metric",symbol:"\xb0C"}),h=Object(C.a)(j,2),x=h[0],O=h[1],g=Object(f.useState)(!1),w=Object(C.a)(g,2),m=w[0],A=w[1],S=function(){var e=Object(P.a)(Object(v.a)().mark((function e(){var t;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,z("tunisia",x.type);case 3:void 0!==(t=e.sent)&&(u(t.cityData[0]),c(t.cityData[0].name),p(Object(y.a)(Object(y.a)({},t.weatherData),{},{unit:x}))),A(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(P.a)(Object(v.a)().mark((function e(t){var n;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),A(!0),e.next=4,z(r,x.type);case 4:void 0!==(n=e.sent)&&(u(n.cityData[0]),p(Object(y.a)(Object(y.a)({},n.weatherData),{},{unit:x}))),A(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(L.Provider,{value:{cityData:s,weatherData:b,loading:m,handleSubmit:k,handleCityChange:function(e){c(e.target.value)},handleUnitChange:function(e){var t=e.target.value,n=e.target.options[e.target.selectedIndex].text;O({type:t,symbol:n})},init:S},children:t})},M=n(10),U=M.a.form(a||(a=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 20vh;\n  margin-top: 30px;\n"]))),B=M.a.div(r||(r=Object(m.a)(["\n  font-size: 25px; \n  color: #5be8f3;\n"]))),I=M.a.input(c||(c=Object(m.a)(["\n  font-size: 18px;\n  padding: 10px;\n  margin: 10px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background-color: rgba(255, 255, 255, 0.4);\n  box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.3);\n  transition: 0.2s ease-in-out;\n  &:focus {\n    background-color: rgba(255, 255, 255, 0.6);\n  }\n"]))),J=M.a.select(i||(i=Object(m.a)(["\n  font-size: 18px;\n  padding: 9px 5px;\n  height: 41px;\n  border: none;\n  border-radius: 5px;\n  background-color: rgba(255, 255, 255, 0.4);\n  box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.3);\n  transition: 0.2s ease-in-out;\n  cursor: pointer;\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.6);\n  }\n"]))),W=M.a.option(o||(o=Object(m.a)(["\n  border: none;\n  border-radius: 5px;\n  background-color: rgba(70, 130, 240, 0.4);\n  box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.3);\n"]))),q=M.a.button(s||(s=Object(m.a)(["\n  font-size: 18px;\n  padding: 10px 15px;\n  margin: 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: rgba(255, 255, 255, 0.4);\n  box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.3);\n  transition: 0.2s ease-in-out;\n  cursor: pointer;\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.6);\n  }\n"]))),G=function(){var e=Object(f.useContext)(L),t=e.handleSubmit,n=e.handleCityChange,a=e.handleUnitChange,r=e.init,c=e.loading;return Object(f.useEffect)((function(){r()}),[]),Object(E.jsxs)(U,{onSubmit:t,children:[Object(E.jsx)(B,{children:"City Name: "}),Object(E.jsx)(I,{type:"text",name:"city",placeholder:"City",onChange:function(e){return n(e)},defaultValue:"Tunisia"}),Object(E.jsxs)(J,{name:"unit",onChange:function(e){return a(e)},children:[Object(E.jsx)(W,{value:"metric",children:"\xb0C"}),Object(E.jsx)(W,{value:"imperial",children:"\xb0F"}),Object(E.jsx)(W,{value:"standard",children:" K"})]}),Object(E.jsx)(q,{type:"submit",children:"Search"}),c?Object(E.jsx)(Oe,{}):null]})},K=function(e,t){var n;if(void 0!==t&&null!==(n=t.daily)&&void 0!==n&&n[e].dt)return new Date(1e3*t.daily[e].dt).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"numeric",year:"numeric"})},N=function(e){return e>=200&&e<=232?"".concat("/weatherAPP","/icons/weather/thunder.png"):e>=300&&e<=321?"".concat("/weatherAPP","/icons/weather/moderate-rain.png"):500===e?"".concat("/weatherAPP","/icons/weather/light-rain.png"):501===e?"".concat("/weatherAPP","/icons/weather/moderate-rain.png"):511===e?"".concat("/weatherAPP","/icons/weather/freezing-rain.png"):e>=502&&e<=504||e>=520&&e<=531?"".concat("/weatherAPP","/icons/weather/heavy-rain.png"):600===e||615===e?"".concat("/weatherAPP","/icons/weather/light-snow.png"):601===e||616===e?"".concat("/weatherAPP","/icons/weather/moderate-snow.png"):602===e||e>=620&&e<=622?"".concat("/weatherAPP","/icons/weather/heavy-snow.png"):e>=611&&e<=613?"".concat("/weatherAPP","/icons/weather/freezing-rain.png"):e>=701&&e<=781?"".concat("/weatherAPP","/icons/weather/mist.png"):800===e?"".concat("/weatherAPP","/icons/weather/sun.png"):e>=801&&e<=802?"".concat("/weatherAPP","/icons/weather/cloud-sun.png"):e>=803&&e<=804?"".concat("/weatherAPP","/icons/weather/clouds.png"):void 0},R=M.a.div(u||(u=Object(m.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  height: 300px;\n  padding: 20px;\n  margin: 20px;\n  border-radius: 5px;\n  color : black;\n  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.6);\n  transition: 0.2s ease-in-out;\n  &:hover {\n    background-color: rgba(46, 222, 240, 0.75);\n    cursor: pointer;\n    transform: scale(1.05);\n  }\n"]))),V=M.a.div(d||(d=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n"]))),H=M.a.div(l||(l=Object(m.a)(["\n  margin-top: auto;\n  margin-bottom: 10px;\n  display: flex;\n"]))),Q=M.a.h1(b||(b=Object(m.a)(["\nfont-size: 50px;\n"]))),X=M.a.div(p||(p=Object(m.a)(["\nmargin-top: auto;\n"]))),Y=M.a.div(j||(j=Object(m.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  align-items: center;\n  justify-content: center;\n  img {\n    justify-self: end;\n  }\n"]))),Z=M.a.div(h||(h=Object(m.a)(["\n  justify-self: start;\n  p {\n    font-size: 18px;\n  }\n"]))),$=function(e){var t=e.id,n=Object(f.useContext)(L),a=n.cityData,r=n.weatherData;return Object(E.jsx)(E.Fragment,{children:a&&r?Object(E.jsxs)(R,{children:[Object(E.jsxs)(V,{children:[Object(E.jsxs)("h1",{children:[a.name,", ",a.country]}),Object(E.jsx)("h3",{children:K(t,r)}),Object(E.jsxs)(H,{children:[Object(E.jsxs)(Q,{children:[r.daily[t].temp.day.toFixed(1),r.unit.symbol]}),Object(E.jsxs)(Y,{children:[Object(E.jsx)("img",{src:"".concat("/weatherAPP","/icons/arrows.png"),alt:"arrows",width:"32",height:"32"}),Object(E.jsxs)(Z,{children:[Object(E.jsxs)("p",{children:[r.daily[t].temp.max.toFixed(1),r.unit.symbol]}),Object(E.jsxs)("p",{children:[r.daily[t].temp.min.toFixed(1),r.unit.symbol]})]})]})]}),Object(E.jsx)(X,{children:Object(E.jsx)("h2",{children:r.daily[t].weather[0].description})})]}),Object(E.jsx)("img",{src:N(r.daily[t].weather[0].id),width:"100",height:"100",alt:""})]}):null})},_=n(29);function ee(e){var t=e.option,n=e.style,a=e.settings,r=e.loading,c=e.theme,i=Object(f.useRef)(null),o=Object(f.useContext)(L).weatherData,s={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{data:[],itemStyle:{color:"#2de2f0c7"},type:"bar"}]};return Object(f.useEffect)((function(){var e;function t(){var t;null===(t=e)||void 0===t||t.resize()}return null!==i.current&&(e=Object(_.b)(i.current,c)),window.addEventListener("resize",t),function(){var n;null===(n=e)||void 0===n||n.dispose(),window.removeEventListener("resize",t)}}),[c]),Object(f.useEffect)((function(){if(null!==i.current&&o){s.series[0].data=o.daily.map((function(e){return e.temp.day})),s.xAxis.data=o.daily.map((function(e){return function(e){var t=new Date(1e3*e);return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()]+" "+t.getDate()}(e.dt)})),s.tooltip.formatter=function(e){return e[0].data+" "+o.unit.symbol};var e=Object(_.a)(i.current);e&&e.setOption(s,a)}}),[t,a,o]),Object(f.useEffect)((function(){if(null!==i.current){var e=Object(_.a)(i.current);e&&(!0===r?e.showLoading():e.hideLoading())}}),[r,c]),Object(E.jsxs)("div",{children:[Object(E.jsx)(ae,{children:"Pr\xe9vision de la semaine"}),Object(E.jsx)("div",{ref:i,style:Object(y.a)({width:"100%",height:"350px"},n)})]})}var te,ne,ae=M.a.form(x||(x=Object(m.a)(["\n  text-align : center;\n  color : black; \n  margin-top : 50px;\n  font-weight : bold;\n"]))),re=n(36),ce=n(48),ie=n.n(ce),oe=(n(78),n(79),["currentSlide","slideCount"]),se=["currentSlide","slideCount"];var ue,de,le,be=M.a.div(te||(te=Object(m.a)(["\n  position: relative;\n"]))),pe=M.a.div(ne||(ne=Object(m.a)([" \n  margin: 20px;\n"]))),je=function(){var e=function(e){e.currentSlide,e.slideCount;var t=Object(re.a)(e,oe);return Object(E.jsx)("img",Object(y.a)({src:"".concat("/weatherAPP","/icons/prev.png"),alt:"prev"},t))},t=function(e){e.currentSlide,e.slideCount;var t=Object(re.a)(e,se);return Object(E.jsx)("img",Object(y.a)({src:"".concat("/weatherAPP","/icons/next.png"),alt:"next"},t))},n={lazyLoad:"ondemand",accessibility:!1,draggable:!0,slidesToShow:3,slidesToScroll:1,infinite:!0,centerMode:!0,prevArrow:Object(E.jsx)(e,{}),nextArrow:Object(E.jsx)(t,{})};return Object(E.jsx)(be,{children:Object(E.jsxs)(T,{children:[Object(E.jsx)(G,{}),Object(E.jsx)(pe,{children:Object(E.jsx)(ie.a,Object(y.a)(Object(y.a)({},n),{},{children:function(e){for(var t=[],n=0;n<e;n++)t.push(Object(E.jsx)($,{id:n},n));return t}(5)}))}),Object(E.jsx)(ee,{})]})})},he=Object(M.b)(ue||(ue=Object(m.a)(["\n  to {\n    transform: rotate(360deg);\n  }\n"]))),xe=M.a.div(de||(de=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 10px;\n"]))),fe=M.a.div(le||(le=Object(m.a)(['\n  content: "";\n  height: 40px;\n  width: 40px;\n  border-radius: 50%;\n  border-top: 2px solid rgba(20, 30, 50, 1);\n  border-right: 2px solid transparent;\n  animation: '," 0.8s linear infinite;\n"])),he),Oe=function(){return Object(E.jsx)(xe,{children:Object(E.jsx)(fe,{})})};w.a.render(Object(E.jsx)(O.a.StrictMode,{children:Object(E.jsx)(je,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.7e4772ed.chunk.js.map